<div class="container-fluid full-page">
  <div class="row search-panel">
    <div class="col-lg-3 col-md-4 facets-sidebar">
      <div class="panel panel-default">
        <div class="panel-heading clearfix">
          <h3 class="panel-title pull-left">Facets</h3>
        </div>
        <div class="list-group">
          <facets-free-text data-field="id" data-title="Annotation" placeholder="{{ 'Annotation ID' | translate }}"></facets-free-text>

          <terms data-name="itemType"
                 data-title="Annotated Item"
                 data-facet="asc.annotations.aggregations.itemType"></terms>
          <terms data-name="categoryName"
                 data-title="Category"
                 data-facet="asc.annotations.aggregations.categoryName"></terms>
          <terms data-name="annotationClassificationName"
                 data-title="Classification"
                 data-facet="asc.annotations.aggregations.annotationClassificationName"></terms>
          <terms data-name="status"
                 data-title="Status"
                 data-facet="asc.annotations.aggregations.status"></terms>
        </div>
      </div>

    </div>

    <h4 class="col-lg-9 col-md-8" data-ng-if="asc.annotations.hits.length === 0" data-translate>
      No annotations found using those filters.
    </h4>

    <div class="col-lg-9 col-md-8" data-ng-if="asc.annotations.hits.length > 0">
      <div data-ng-if="!modelLoaded" class="app-loading table-loader">
        <i class="fa fa-spinner fa-spin fa-5x"></i>
      </div>

      <div class="alert alert-info clearfix">
        <span data-ng-if="!cfc.currentFilters.length">
          <i class="fa fa-long-arrow-left"></i> Start searching by selecting a facet
        </span>
        <current-filters></current-filters>
      </div>

      <div class="panel panel-default">

        <div class="panel-heading">

          <h3 class="panel-title table-heading">
            <span data-translate>Annotations</span> ({{asc.annotations.pagination.total}})
            <div class="pull-right">
              <div table-filters-dropdown filters='annotationsColumns'></div>
              <sort-table data-sort-columns="asc.sortColumns"
                          data-paging="asc.annotations.pagination" data-page="annotations"></sort-table>
            </div>
          </h3>
        </div>
        <div class="table-responsive">
          <table id="annotations-table" class="table table-striped table-hover table-condensed table-bordered">
            <thead>
            <tr>
              <th ng-if="annotationsColumnIsEnabled('id')" 
                scope="col" class="text-center" data-translate>ID</th>
              <th ng-if="annotationsColumnIsEnabled('participant_id')" 
                scope="col" class="text-center" data-translate>Participant ID</th>
              <th ng-if="annotationsColumnIsEnabled('project')" 
                scope="col" class="text-center" data-translate>Project</th>
              <th ng-if="annotationsColumnIsEnabled('item_type')"  
                scope="col" class="text-center" data-translate>Item Type</th>
              <th ng-if="annotationsColumnIsEnabled('item_UUID')"  
                scope="col" class="text-center" data-translate>Item UUID</th>
              <th ng-if="annotationsColumnIsEnabled('item_barcode')" 
                scope="col" class="text-center" data-translate>Item Barcode</th>
              <th ng-if="annotationsColumnIsEnabled('classification')" 
                scope="col" class="text-center" data-translate>Classification</th>
              <th ng-if="annotationsColumnIsEnabled('category')" 
                scope="col" class="text-center" data-translate>Category</th>
              <th ng-if="annotationsColumnIsEnabled('created_date')"
                scope="col" class="text-center" data-translate>Created Date</th>
              <th ng-if="annotationsColumnIsEnabled('annotator')" 
                scope="col" class="text-center" data-translate>Annotator</th>
              <th ng-if="annotationsColumnIsEnabled('status')" 
                scope="col" class="text-center" data-translate>Status</th>
            </tr>
            </thead>
            <tbody>
            <tr data-ng-repeat="annotation in asc.annotations.hits track by annotation.id">
              <td ng-if="annotationsColumnIsEnabled('id')">
                <a data-ui-sref="annotation({ annotationId: annotation.id })">
                  {{ ::annotation.id }}
                </a>
              </td>
              <td ng-if="annotationsColumnIsEnabled('participant_id')">
                <a>
                  tbc
                </a>
              </td>
              <td ng-if="annotationsColumnIsEnabled('project')">
                <a>
                  tbc
                </a>
              </td>
              <td ng-if="annotationsColumnIsEnabled('item_type')">{{ ::annotation.itemType }}</td>
              <td ng-if="annotationsColumnIsEnabled('item_UUID')">tbc</td>
              <td ng-if="annotationsColumnIsEnabled('item_barcode')">{{ ::annotation.item | ellipsicate:50 }}</td>
              <td ng-if="annotationsColumnIsEnabled('classification')">{{ ::annotation.annotationClassificationName }}</td>
              <td ng-if="annotationsColumnIsEnabled('category')" >{{ ::annotation.categoryName }}</td>
              <td ng-if="annotationsColumnIsEnabled('created_date')">{{ ::annotation.dateCreated | date }}</td>
              <td ng-if="annotationsColumnIsEnabled('annotator')">{{ ::annotation.createdBy }}</td>
              <td ng-if="annotationsColumnIsEnabled('status')" >{{ ::annotation.status }}</td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="panel-footer clearfix">
          <pagination-controls data-page="annotations" data-paging="asc.annotations.pagination"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>
