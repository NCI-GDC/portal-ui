/* @flow */
/* eslint better/no-ifs:0 */

import React from 'react';
import ReactDOM from 'react-dom';
//babel-polyfill needs to load after react and react-dom to work in IE11
import 'babel-polyfill';
import { AppContainer } from 'react-hot-loader';

import { setTheme } from '@ncigdc/theme';

import Root from './Root';

const rootEl = document.getElementById('app');

setTheme(LEGACY ? 'legacy' : 'active');

ReactDOM.render(
  <AppContainer><Root /></AppContainer>,
  rootEl
);

if (module.hot) {
  // $FlowIgnore
  module.hot.accept(Root, () => {
    ReactDOM.render(
      <AppContainer><Root /></AppContainer>,
      rootEl
    );
  });
}
