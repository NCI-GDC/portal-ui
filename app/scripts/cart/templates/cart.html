<div class="container-fluid full-page">
  <section class="row">
    <div class="col-lg-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Cart Summary</h3>
        </div>
        <table class="table table-striped table-hover table-condensed table-bordered">
          <tbody>
          <tr>
            <th scope="row" data-translate>Last Update</th>
            <td>{{ cc.lastModified | date:'MM/DD/YYYY H:mm:ss' }}</td>
          </tr>
          <tr>
            <th scope="row">
              &#35;
              <span data-translate data-translate-comment="number of">of files</span>
            </th>
            <td>{{ cc.files.hits.length | number:0 }}</td>
          </tr>
          <tr>
            <th scope="row" data-translate>Size</th>
            <td>{{ cc.getTotalSize() | size }}</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <h2 data-ng-if="!cc.files.hits.length" data-translate>Your Cart is empty.</h2>

  <section data-ng-if="cc.files.hits.length">
    <div class="panel panel-default">
      <div class="panel-heading clearfix">
        <h3 class="panel-title pull-left">Cart Items</h3>

        <div data-ng-if="!cc.selected().length" class="pull-right">
          <i class="fa fa-warning"></i> You have no items selected
          <button type="button"
                  style="margin-left: 15px"
                  class="btn btn-primary"
                  data-translate
                  data-ng-click="cc.selectAll()">
            <i class="fa fa-shopping-cart"></i> Selected All Files
          </button>
          <button type="button"
                  class="btn btn-danger"
                  data-translate
                  data-ng-click="cc.removeAll()">
            <i class="fa fa-remove"></i> Empty Cart
          </button>
        </div>
          <div data-ng-if="cc.selected().length" class="pull-right">
            <strong>{{cc.selected().length}}</strong> files selected (<strong>{{ cc.selectedSize() | size}}</strong>)
          <span style="margin-left: 15px" class="btn-group" data-dropdown>
            <button type="button"
                    class="btn btn-primary"
                    data-translate>
              <i class="fa fa-cloud-download"></i> Download
            </button>
            <button type="button"
                    class="btn btn-primary dropdown-toggle"
                    data-translate>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li role="listitem" aria-label="{{ 'Download Files' | translate }}">
                <a href="#"><i class="fa fa-download fa-stack"></i> Download Files</a>
              </li>
              <li role="listitem" aria-label="{{ 'Download URLs' | translate }}">
                <a href="#"><i class="fa fa-file-text-o fa-stack"></i> Download URLs</a>
              </li>
              <li role="listitem" aria-label="{{ 'Download Manifest' | translate }}">
                <a href="#"><i class="fa fa-file-code-o fa-stack"></i> Download Manifest</a>
              </li>
              <li role="listitem" aria-label="{{ 'Download Metadata Files' | translate }}">
                <a href="#"><i class="fa fa-file-code-o fa-stack"></i> Download Metadata Files</a>
              </li>
            </ul>
          </span>

            <button type="button"
                    class="btn btn-danger"
                    data-translate
                    data-ng-click="cc.removeSelected()">
              <i class="fa fa-remove"></i> Remove from Cart
            </button>
          </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped table-hover table-condensed table-bordered">
          <thead>
          <tr>
            <th scope="col">
              <button data-ng-if="cc.all()" type="button" class="btn btn-default" data-ng-click="cc.deselectAll()">
                <i class="fa fa-check-circle-o"></i>
              </button>
              <button data-ng-if="!cc.all()" type="button" class="btn btn-default" data-ng-click="cc.selectAll()">
                <i class="fa fa-circle-o"></i>
              </button>
            </th>
            <th scope="col" class="text-center" data-translate>Access</th>
            <th scope="col" class="text-center" data-translate>File Name</th>
            <th scope="col" class="text-center" data-translate>Annotations</th>
            <th scope="col" class="text-center" data-translate>Participants</th>
            <th scope="col" class="text-center" data-translate>Projects</th>
            <th scope="col" class="text-center" data-translate>Data Category</th>
            <th scope="col" class="text-center" data-translate>Status</th>
            <th scope="col" class="text-center" data-translate>File type</th>
            <th scope="col" class="text-center" data-translate>Size</th>
            <th scope="col" class="text-center" data-translate>Revision</th>
            <th scope="col" class="text-center" data-translate>Update date</th>
          </tr>
          </thead>
          <tbody>
          <tr data-ng-repeat="file in cc.files.hits">
            <td>
              <div class="btn-group" data-dropdown>
                <button type="button" class="btn btn-default"
                        data-ng-click="file.selected = !file.selected">
                  <i class="fa"
                     data-ng-class="file.selected ? 'fa-check-circle-o' : 'fa-circle-o'"></i>
                </button>
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                        aria-expanded="false">
                  <span class="caret"></span>
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu">
                  <li role="listitem" aria-label="{{ 'Download' | translate }}">
                    <a href="#"><i class="fa fa-cloud-download fa-stack"></i> Download</a>
                  </li>
                  <li role="listitem" aria-label="{{ 'Download File' | translate }}">
                    <a href="#"><i class="fa fa-download fa-stack"></i> Download File</a>
                  </li>
                  <li role="listitem" aria-label="{{ 'Download URL' | translate }}">
                    <a href="#"><i class="fa fa-file-text-o fa-stack"></i> Download URL</a>
                  </li>
                  <li role="listitem" aria-label="{{ 'Download Manifest' | translate }}">
                    <a href="#"><i class="fa fa-file-code-o fa-stack"></i> Download Manifest</a>
                  </li>
                  <li role="listitem" aria-label="{{ 'Download Metadata Files' | translate }}">
                    <a href="#"><i class="fa fa-file-code-o fa-stack"></i> Download Metadata Files</a>
                  </li>
                  <li class="divider"></li>
                  <li role="listitem" aria-label="{{ 'Remove from Cart' | translate }}">
                    <a href="#" data-ng-click="cc.remove(file.file_uuid)"><i class="fa fa-remove fa-stack"></i> Remove
                      from Cart</a>
                  </li>
                </ul>
              </div>
            </td>
            <td class="text-center">
              <i data-ng-if="!file.access" class="fa fa-lock fa-lg"></i>
              <i data-ng-if="file.access" class="fa fa-unlock-alt fa-lg"></i>
            </td>
            <td>
              <a data-ui-sref="file({ fileId: file.file_uuid })">
                {{ file.file_name }}
              </a>
            </td>
            <td>???</td>
            <td>???</td>
            <td>???</td>
            <td>{{ file.data_type }}</td>
            <td>???</td>
            <td>{{ file.data_format }}</td>
            <td>{{ file.file_size | size }}</td>
            <td>{{ file.archive.revision }}</td>
            <td>???</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="panel-footer clearfix">
        <div class="pagination-controls">
          <div class="number-results pull-left">
            Show
            <div class="btn-group dropup" data-dropdown data-is-open="status.isopen">
              <button type="button" class="btn btn-default dropdown-toggle" data-ng-disabled="disabled">
                {{ cc.files.pagination.count }} <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu">
                <li data-ng-click="cc.searchQuery($event, 10)"
                    data-ng-keypress="cc.searchQuery($event, 10)"
                    role="button"
                    aria-label="Data Sample Size">10
                </li>
                <li data-ng-click="cc.searchQuery($event, 20)"
                    data-ng-keypress="cc.searchQuery($event, 20)"
                    role="button"
                    aria-label="Data Sample Size">20
                </li>
                <li data-ng-click="cc.searchQuery($event, 40)"
                    data-ng-keypress="cc.searchQuery($event, 40)"
                    role="button"
                    aria-label="Data Sample Size">40
                </li>
                <li data-ng-click="cc.searchQuery($event, 60)"
                    data-ng-keypress="cc.searchQuery($event, 60)"
                    role="button"
                    aria-label="Data Sample Size">60
                </li>
                <li data-ng-click="cc.searchQuery($event, 80)"
                    data-ng-keypress="cc.searchQuery($event, 80)"
                    role="button"
                    aria-label="Data Sample Size">80
                </li>
                <li data-ng-click="cc.searchQuery($event, 100)"
                    data-ng-keypress="cc.searchQuery($event, 100)"
                    role="button"
                    aria-label="Data Sample Size">100
                </li>
              </ul>
            </div>
            entries

            <pagination boundary-links="true"
                        total-items="cc.files.pagination.total"
                        ng-model="cc.files.pagination.page"
                        items-per-page="cc.files.pagination.count"
                        class="pagination-sm pull-right"
                        ng-change="cc.searchQuery()"
                        num-pages="cc.files.pagination.pages"
                        max-size="6"
                        rotate="false"
                        previous-text="&lsaquo;"
                        next-text="&rsaquo;"
                        first-text="&laquo;"
                        last-text="&raquo;"></pagination>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
