// @flow

import { withPropsOnChange, compose } from 'recompose';
import JSURL from 'jsurl';
import withRouter from '@ncigdc/utils/withRouter';

export default () => compose(
  withRouter,
  withPropsOnChange(
    ({ location }, { location: previousLocation }) => location.search !== previousLocation.search,
    ({ query }) => ({
      filters: JSURL.parse(query.filters) || {},
    })
  )
);
