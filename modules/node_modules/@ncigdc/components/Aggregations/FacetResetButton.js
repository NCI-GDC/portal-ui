// @flow

import React from 'react';
import UndoIcon from 'react-icons/lib/md/undo';

import Link from '@ncigdc/components/Links/Link';
import { getFilterValue } from '@ncigdc/utils/filters';
import Hidden from '@ncigdc/components/Hidden';

const FacetResetButton = ({ field, currentFilters }) => {
  const currentValues = getFilterValue({
      currentFilters,
      dotField: field,
  }) || { content: { value: [] } };
  const display = !!currentValues.content.value.length;
  return (
  <Link
    merge="toggle"
    style={{ display: display ? 'inline' : 'none' }}
    query={!!currentValues.content.value.length && {
      offset: 0,
      filters: {
        op: 'and',
        content: [{
          op: 'in',
          content: {
            field,
            value: currentValues.content.value,
          },
        }],
      },
    }}
  >
    <UndoIcon /><Hidden>reset</Hidden>
  </Link>
  );
};

export default FacetResetButton;
