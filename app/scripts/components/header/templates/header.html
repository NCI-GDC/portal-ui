<header id="gdc-header" class="navbar navbar-default navbar-static-top" role="banner">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-ng-click="hc.toggleCollapsed()">
        <span class="sr-only" data-translate>Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" data-ui-sref="projects" data-translate>GDC Data Portal</a>
    </div>
    <nav class="navbar-collapse collapse navbar-responsive-collapse" data-collapse="hc.isCollapsed"
         role="navigation" data-ng-click="hc.collapse($event)"
         data-ng-keypress="hc.collapse($event)"
         aria-label="{{ 'Site Navigation' | translate }}">
      <ul class="nav navbar-nav">
        <li data-ng-class="{ active: hc.$state.includes('projects') }"
            id="header-projects">
          <a ui-sref="projects.table"><i class="fa fa-folder-o"></i> Projects</a>
        </li>
        <li data-ng-class="{ active: hc.$state.includes('search') || hc.$state.includes('query') }"
            id="header-data">
          <a ui-sref="search.summary"><i class="fa fa-database"></i> Data</a>
        </li>
        <li ui-sref-active="active" id="header-annotations">
          <a ui-sref="annotations"><i class="fa fa-align-left"></i> Annotations</a>
        </li>
        <li ui-sref-active="active" id="header-reports">
          <a ui-sref="reports"><i class="fa fa-cube"></i> Reports</a>
        </li>
        <li>
          <a target="_blank" href="https://beta-edits-gdc.oicr.on.ca/gdc-data-portal-users-guide">
            <i style="text-indent: 0" class="fa fa-question"></i> Help</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li data-ng-if="hc.addedLanguages">
          <select ng-model="hc.currentLang"
                  ng-change="hc.setLanguage()"
                  aria-label="Select language"
                  ng-options="k as v for (k, v) in hc.languages">
          </select>
        </li>
        <li>
          <a quick-search>
            <i class="fa fa-search stock-icon"></i>
          </a>
        </li>
        <li data-ng-if="!hc.UserService.currentUser" id="header-login">
          <a auth-button data-redirect="https://gdc.nci.nih.gov">
            <i class="fa fa-sign-in"></i>
            <span data-translate>Login</span>
          </a>
        </li>
        <li class="MyProjects" data-ng-if="hc.UserService.currentUser">
          <label class="MyProjects__label navbar-text">
            <input type="checkbox"
                   data-ng-change="hc.UserService.toggleFilter()"
                   data-ng-model="hc.UserService.currentUser.isFiltered">
            <span data-translate>Only My Projects</span>
          </label>
        </li>
        <li data-ng-if="hc.UserService.currentUser">
          <ul class="nav navbar-nav">
            <li class="btn-group" data-dropdown>
              <a href="" class="dropdown-toggle" dropdown-toggle aria-expanded="false">
                {{ hc.UserService.currentUser.username }} <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" role="menu">
                <li id="header-token">
                  <a data-ng-click="hc.getToken()">
                    <i class="fa fa-file-zip-o stock-icon"></i>
                    <span data-translate>Download Token</span>
                  </a>
                </li>
                <li id="header-logout">
                  <a auth-button data-redirect="https://gdc.nci.nih.gov/logout">
                    <i class="fa fa-sign-out stock-icon"></i>
                    <span data-translate>Logout</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li ui-sref-active="active" class="nav-cart">
          <a ui-sref="cart">
            <i class="fa fa-shopping-cart"></i>
            <span data-translate>Cart</span>
            <span class="label label-primary">{{ hc.getNumCartItems() }}</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <div class="xhrCounter" data-ng-if="hc.CoreService.activeRequests">
    {{ (hc.CoreService.finishedRequests / hc.CoreService.requestCount * 100).toFixed(0) }}%
  </div>
</header>
