<div class="container entity file">
  <h1>
    <span class="entity-identifier">F</span>
    {{ fc.file.filename }}
  </h1>

  <section class="row">
    <div class="col-lg-12 col-md-12">
      <div class="row file-row">

        <div class="col-lg-7 col-md-7">
          <h3>
            File Properties
            <i class="glyphicon download glyphicon-download-alt pull-right"></i>
            <button class="btn btn-default pull-right" data-ng-click="fc.file.inCart = !fc.file.inCart">
              <span data-ng-show="fc.file.inCart">Remove from Cart</span>
              <span data-ng-show="!fc.file.inCart">Add to Cart</span>
            </button>
          </h3>
          <table class="table table-striped table-hover table-condensed table-bordered">
            <tbody>
              <tr>
                <td>File Name</td>
                <td>{{ fc.file.filename }}</td>
              </tr>
              <tr>
                <td>File Access</td>
                <td>
                  <i data-ng-if="fc.file.access" class="glyphicon glyphicon-lock"></i>
                  <span data-ng-if="fc.file.access">Public</span>
                  <span data-ng-if="!fc.file.access">Protected</span>
                </td>
              </tr>
              <tr>
                <td>UUID</td>
                <td>{{ fc.file.uuid }}</td>
              </tr>
              <tr>
                <td>Barcode</td>
                <td>{{ fc.file.barcode }}</td>
              </tr>
              <tr>
                <td>Data format</td>
                <td>{{ fc.file.format }}</td>
              </tr>
              <tr>
                <td>File Size</td>
                <td>{{ fc.file.size }} GB</td>
              </tr>
              <tr>
                <td>Checksum</td>
                <td>{{ fc.file.checksum }}</td>
              </tr>
              <tr>
                <td>Published</td>
                <td>{{ fc.file.published | date }}</td>
              </tr>
              <tr>
                <td>Uploaded</td>
                <td>{{ fc.file.uploaded | date }}</td>
              </tr>
              <tr>
                <td>Modified</td>
                <td>{{ fc.file.modified | date }}</td>
              </tr>
              <tr>
                <td>State</td>
                <td>{{ fc.file.state }}</td>
              </tr>
              <tr data-ng-if="fc.file.archive" class="archive-row">
                <td>Archive</td>
                <td>
                  {{ fc.file.archive.name }}
                  <div class="btn-group" dropdown>
                    <button type="button" class="btn btn-default dropdown-toggle">
                      A <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li>
                        <a>
                          <i class="glyphicon glyphicon-eye-open"></i>
                          View Files in same Archive
                        </a>
                      </li>
                      <li>
                        <a>
                          <i class="glyphicon glyphicon-folder-open"></i>
                          Download Archive
                        </a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="col-lg-5 col-md-5">
          <h3>Data Information</h3>
          <table class="table table-striped table-hover table-condensed table-bordered">
            <tbody>
              <tr>
                <td>Data Type</td>
                <td>{{ fc.file.dataType }}</td>
              </tr>
              <tr>
                <td>Data Subtype</td>
                <td>{{ fc.file.dataSubType }}</td>
              </tr>
              <tr>
                <td>Experimental Strategy</td>
                <td>{{ fc.file.experimentStrategy }}</td>
              </tr>
              <tr>
                <td>Program Status</td>
                <td>{{ fc.file.programStatus }}</td>
              </tr>
              <tr>
                <td>Platform</td>
                <td>{{ fc.file.platform }}</td>
              </tr>
              <tr>
                <td>Data Revision</td>
                <td>{{ fc.file.revision }}</td>
              </tr>
              <tr>
                <td>Data Version</td>
                <td>{{ fc.file.version }}</td>
              </tr>
              <tr>
                <td>Data Level</td>
                <td>{{ fc.file.level }}</td>
              </tr>
              <tr>
                <td>Data Submitter</td>
                <td>{{ fc.file.submitter }}</td>
              </tr>
              <tr>
                <td>Data Submitted Since</td>
                <td>{{ fc.file.submittedSince | date }}</td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>
  </section>

  <section class="row">
    <div class="col-lg-12 col-md-12">
      <h3>
        Participants
        <button class="btn btn-default pull-right">Export Table</button>
      </h3>
      <table class="table table-striped table-hover table-condensed table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Project</th>
            <th>Disease</th>
            <th>Sample</th>
            <th>Portion</th>
            <th>Analyte</th>
            <th>Aliquot</th>
          </tr>
        </thead>
        <tbody>
          <tr data-ng-repeat="p in fc.file.participants track by p.id">
            <td><a data-ui-sref="participant({ participantId : p.id })">{{ p.id }}</a></td>
            <td><a data-ui-sref="project({ projectId : p.project.id })">{{ p.project.name }}</a></td>
            <td>{{ p.diseaseType }}</td>
            <td>{{ p.sample }}</td>
            <td>{{ p.portion }}</td>
            <td>{{ p.analyte }}</td>
            <td>{{ p.aliquot }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="row">
    <div class="col-lg-12 col-md-12">
      <h3>
        Related Files
        <button class="btn btn-default pull-right">Export Table</button>
      </h3>
      <table class="table table-striped table-hover table-condensed table-bordered">
        <thead>
          <tr>
            <th>File Name</th>
            <th>File Type</th>
            <th>Checksum</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr data-ng-repeat="f in fc.file.related track by f.id">
            <td>{{ f.filename }}</td>
            <td>{{ f.format }}</td>
            <td>{{ f.checksum }}</td>
            <td>
              <a data-ui-sref="file({ fileId: f.id })">
                View
              </a>
              /
              <a>
                Download
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="row">
    <div class="col-lg-12 col-md-12 pull-right">
      <h3>File Content</h3>
      <xml-viewer id="xmlViewer" xml="fc.file.metadataXML"></xml-viewer>
    </div>
  </section>
</div>
