/* @flow */

import Relay from 'react-relay';
import SearchTable from '@ncigdc/components/SearchTable';

export const ProjectTableQuery = {
  fragments: {
    projects: () => Relay.QL`
      fragment on ProjectConnection {
        total
        edges @relay(plural: true) {
          node {
            id
            project_id
            disease_type
            program {
              name
            }
            primary_site
            summary {
              case_count
              data_categories {
                case_count
                data_category
              }
              file_count
            }
          }
        }
      }
    `,
  },
};

const ProjectTable = Relay.createContainer(
  SearchTable,
  ProjectTableQuery
);

export default ProjectTable;
