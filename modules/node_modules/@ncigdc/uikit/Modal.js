// @flow

import React, { Children, cloneElement } from 'react';
import ReactModal from 'react-modal';

let modalStyles = {
  overlay: {
    position: 'fixed',
    top: '0px',
    left: '0px',
    right: '0px',
    bottom: '0px',
    backgroundColor: 'rgba(0, 0, 0, 0.5)',
    display: 'block',
    zIndex: '111',
  },
  content: {
    position: 'initial', // needed for firefox
    border: '1px solid rgb(204, 204, 204)',
    background: 'rgb(255, 255, 255)',
    borderRadius: '4px',
    margin: '30px auto',
    padding: '20px',
    width: '900px',
    boxShadow: 'rgba(0, 0, 0, 0.498039) 0px 5px 15px',
  }
};

const Modal = ({ isOpen, onRequestClose, style, children }) => (
  <ReactModal
    style={{ ...(style || {}), ...modalStyles, }}
    isOpen={isOpen}
    onRequestClose={onRequestClose || (() => {})}
    contentLabel="Modal"
  >
    {Children.map(children, child =>
      cloneElement(child, { ...child.props })
    )}
  </ReactModal>
);

export default Modal;
