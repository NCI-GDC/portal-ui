<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Participants</h3>
  </div>
  <div class="table-responsive">

    <table id="participant-table" class="table table-striped table-hover table-condensed table-bordered">
      <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col" data-translate>Participant ID</th>
        <th scope="col" data-translate>Project</th>
        <th scope="col" data-translate>Disease Type</th>
        <th scope="col" data-translate>Gender</th>
        <th scope="col" data-translate>Tumor Stage</th>
        <th scope="col" data-translate>Files</th>
        <th scope="col" data-translate>Annotations</th>
      </tr>
      </thead>
      <tbody>
      <tr data-ng-repeat="p in sc.participants.hits track by p.patient_id">
        <td style="width: 35px;">
          <div class="btn-group" data-dropdown>
            <button type="button"
                    class="btn btn-default dropdown-toggle"
                    data-ng-click="sc.getFilteredRelatedFiles(p)"
                    aria-label="Participant Actions">
              <i class="fa fa-shopping-cart"></i>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li aria-label="{{ 'Add all related files' | translate }}"
                  role="button">
                <a data-ng-click="sc.addRelatedFiles(p)">
                  <i class="fa fa-shopping-cart fa-stack"></i>
                  <span data-translate>Add all related files</span> ({{ p.files.length }})
                </a>
              </li>
              <li aria-label="{{ 'Add filtered related files' | translate }}"
                  role="button">
                <a data-ng-click="sc.addFilteredRelatedFiles(p)">
                  <i class="fa fa-shopping-cart fa-stack"></i>
                  <span data-translate>Add filtered related files</span> ({{ p.filteredRelatedFiles.pagination.total }})
                </a>
              </li>
            </ul>
          </div>
        </td>
        <td><a data-ui-sref="participant({ participantId : p.bcr_patient_uuid })">{{ ::p.bcr_patient_barcode }}</a></td>
        <td>tbc <a data-ui-sref="project({ projectId : p.project.id })">{{ ::p.project.name }}</a></td>
        <td>{{ ::p.admin.disease_code }}</td>
        <td>{{ ::p.gender }}</td>
        <td>{{ ::p.person_neoplasm_cancer_status }}</td>
        <td class="text-right">
          <a data-ui-sref="search.files({ 'filters': makeFilter([
        {
          name: 'participant_id', value: p.bcr_patient_uuid
        }
      ])})">
            tbc {{ ::p.files.length | number:0 }}
          </a>
        </td>
        <td class="text-right">
          <a data-ui-sref="annotations({ participantId: p.id })">
            tbc {{ ::p.annotations.length | number:0 }}
          </a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="panel-footer clearfix">
    <div class="pagination-controls">
      <div class="number-results pull-left">
        <span data-translate>Show</span>

        <div class="btn-group dropup" dropdown is-open="status.isopen">
          <button type="button" class="btn btn-default dropdown-toggle" ng-disabled="disabled">
            {{ sc.participants.pagination.count }} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li data-ng-click="sc.searchQuery($event, 10)"
                data-ng-keypress="sc.searchQuery($event, 10)"
                role="button"
                aria-label="Data Sample Size">10
            </li>
            <li data-ng-click="sc.searchQuery($event, 20)"
                data-ng-keypress="sc.searchQuery($event, 20)"
                role="button"
                aria-label="Data Sample Size">20
            </li>
            <li data-ng-click="sc.searchQuery($event, 40)"
                data-ng-keypress="sc.searchQuery($event, 40)"
                role="button"
                aria-label="Data Sample Size">40
            </li>
            <li data-ng-click="sc.searchQuery($event, 60)"
                data-ng-keypress="sc.searchQuery($event, 60)"
                role="button"
                aria-label="Data Sample Size">60
            </li>
            <li data-ng-click="sc.searchQuery($event, 80)"
                data-ng-keypress="sc.searchQuery($event, 80)"
                role="button"
                aria-label="Data Sample Size">80
            </li>
            <li data-ng-click="sc.searchQuery($event, 100)"
                data-ng-keypress="sc.searchQuery($event, 100)"
                role="button"
                aria-label="Data Sample Size">100
            </li>
          </ul>
        </div>
        <span data-translate>entries</span>
      </div>

      <pagination boundary-links="true"
                  total-items="sc.participants.pagination.total"
                  ng-model="sc.participants.pagination.page"
                  items-per-page="sc.participants.pagination.count"
                  class="pagination-sm pull-right"
                  ng-change="sc.searchQuery()"
                  num-pages="sc.participants.pagination.pages"
                  max-size="6"
                  rotate="false"
                  previous-text="&lsaquo;"
                  next-text="&rsaquo;"
                  first-text="&laquo;"
                  last-text="&raquo;"></pagination>
    </div>
  </div>
</div>
