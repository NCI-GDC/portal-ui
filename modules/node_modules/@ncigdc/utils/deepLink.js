// @flow
const HEADER_HEIGHT = 160;
const getOffset = elem => {
  const box = elem.getBoundingClientRect();

  const body = document.body;
  const docEl = document.documentElement;

  const scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;
  const clientTop = docEl.clientTop || body.clientTop || 0;

  const top = box.top + scrollTop - clientTop;

  return Math.round(top);
};

export const scrollToId = id => {
  window.location.hash = id;

  setTimeout(() => {
    window.scrollTo(
      0,
      getOffset(document.getElementById(id)) - HEADER_HEIGHT
    );
  }, 100);
};
