<table class="table table-striped table-hover table-condensed table-bordered">
  <thead>
    <tr>
      <th ng-if="!heading.hidden && getHeadingEnabled(heading, this)"
          ng-class="::getHeadingClass(heading)"
          data-translate
          ng-repeat="heading in getAllHeadingsAtNestingLevel(0) | orderBy:getColumnIndex:heading track by heading.id"
          rowspan="{{::getHeadingRowSpan(heading)}}"
          colspan="{{::getHeadingColSpan(heading)}}">
        <div tableicious-header heading="heading" paging="paging" scope="col" data="data"ng-if='::heading.compileHead'></div>
        <span ng-if="::!heading.noTitle">{{heading.displayName}}</span>
      </th>
    </tr>
    <tr>
      <th ng-repeat="childHeading in ::getAllHeadingsAtNestingLevel(1) track by childHeading.id" data-ng-if="!childHeading.hidden">
        <span data-tooltip="{{ childHeading.headingToolTipText }}" data-tooltip-append-to-body="true" tooltip-placement="top">
          {{ childHeading.displayName }}
        </span>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr data-ng-repeat="datum in dataAsKeyValuePairs track by $index" tableicious-row>
      <td ng-if="!heading.hidden && getHeadingEnabled(heading, this)"
          data-ng-repeat="heading in expandedHeadings | orderBy:getColumnIndex:heading"
          class="{{getFieldClass(field,datum,this,heading)}}">
        <div ng-if='::heading.compile' tableicious-cell></div>
        <span data-tooltip='{{ getToolTipText(heading, datum, this) }}' data-ng-class="{ 'tooltip-target': heading.toolTipText && !heading.sref }">
          <a data-ng-if="heading.sref && getSref(this, $filter) !== '--'"
             data-ng-href="{{getSref(this, $filter)}}">
            {{ getTemplate(this, $filter) }}
          </a>

          <span data-ng-if="heading.sref && getSref(this, $filter) === '--'">
            {{ getTemplate(this, $filter) }}
          </span>

          <span ng-if="!heading.sref && !heading.compile">
            {{ getTemplate(this, $filter) }}
          </span>

          <div ng-if="heading.icon" class="text-center">
            <i class="fa fa-{{getIcon(this)}} fa-lg"></i>
          </div>
        </span>
      </td>
    </tr>
  </tbody>
</table>
